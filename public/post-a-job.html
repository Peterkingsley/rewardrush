<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Post a Job - OpenGigs</title>
    <!-- Tailwind CSS, Font Awesome, Google Fonts (copied from affiliate.html) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Montserrat:wght@700;800;900&display=swap" rel="stylesheet">
    <style>
        :root { --primary-glow: #8b00ff; --secondary-glow: #00f0ff; --accent-glow: #39ff14; --dark-bg: #0a0a15; --mid-bg: #1a1a2e; --light-bg: #2a2a3e; }
        body { font-family: 'Poppins', sans-serif; background-color: #f0f2f5; }
        .font-montserrat { font-family: 'Montserrat', sans-serif; }
        #desktop-sidebar { transition: width 0.3s ease; }
        #main-content-wrapper { transition: margin-left 0.3s ease; }
        .sidebar-collapsed #desktop-sidebar { width: 5.5rem; }
        .sidebar-collapsed #main-content-wrapper { margin-left: 5.5rem; }
        .sidebar-collapsed .sidebar-text { display: none; }
        .sidebar-collapsed #sidebar-toggle i { transform: rotate(180deg); }
        .sidebar-collapsed .nav-link { justify-content: center; }
        .active-nav { background-color: var(--primary-glow); color: white; }
        .nav-link:not(.active-nav):hover { background-color: #f3e8ff; color: #8b00ff; }
        .dark body { background-color: var(--dark-bg); }
        .dark .bg-white { background-color: var(--mid-bg) !important; }
        .dark .bg-gray-100 { background-color: var(--dark-bg) !important; }
        .dark .text-gray-900 { color: #f0f2f5 !important; }
        .dark .text-gray-800 { color: #e2e8f0 !important; }
        .dark .text-gray-700 { color: #a0aec0 !important; }
        .dark .border-gray-200 { border-color: #4a5568 !important; }
        .dark .nav-link:not(.active-nav):hover { background-color: var(--light-bg) !important; }
        .dark input, .dark select, .dark textarea { background-color: var(--light-bg); border-color: #4a5568; color: white; }
    </style>
</head>
<body class="text-gray-800">

    <!-- Sidebar (Copied from affiliate.html for consistency) -->
    <aside id="desktop-sidebar" class="hidden md:flex flex-col justify-between w-64 bg-white fixed top-0 left-0 h-full z-40 transition-all duration-300">
        <!-- Sidebar content from affiliate.html goes here -->
        <div>
            <div class="flex items-center justify-between p-4 border-b border-gray-200">
                <div class="flex items-center text-2xl font-semibold text-gray-800">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="text-purple-600"><path d="M12 2L2 7l10 5 10-5-10-5z"></path><path d="M2 17l10 5 10-5"></path><path d="M2 12l10 5 10-5"></path></svg>
                    <span class="sidebar-text ml-2 font-montserrat">OpenGigs</span>
                </div>
            </div>
            <nav class="p-4">
                 <ul>
                    <li class="mb-2"><a href="groweasy.html" class="nav-link flex items-center text-lg text-gray-600 py-3 px-4 rounded-lg"><i class="fas fa-compass w-6 text-center mr-4"></i><span class="sidebar-text">Quests</span></a></li>
                    <li class="mb-2"><a href="affiliate.html" class="nav-link flex items-center text-lg font-semibold py-3 px-4 rounded-lg active-nav"><i class="fas fa-briefcase w-6 text-center mr-4"></i><span class="sidebar-text">Jobs</span></a></li>
                    <li class="mb-2"><a href="education.html" class="nav-link flex items-center text-lg text-gray-600 py-3 px-4 rounded-lg"><i class="fas fa-book-open w-6 text-center mr-4"></i><span class="sidebar-text">Learn</span></a></li>
                    <li class="mb-2"><a href="founder.html" class="nav-link flex items-center text-lg text-gray-600 py-3 px-4 rounded-lg"><i class="fas fa-tools w-6 text-center mr-4"></i><span class="sidebar-text">Build</span></a></li>
                    <li class="mb-2"><a href="profile.html" class="nav-link flex items-center text-lg text-gray-600 py-3 px-4 rounded-lg"><i class="fas fa-user w-6 text-center mr-4"></i><span class="sidebar-text">Profile</span></a></li>
                </ul>
            </nav>
        </div>
    </aside>

    <!-- Main Content Wrapper -->
    <div id="main-content-wrapper" class="md:ml-64 transition-all duration-300">
        <div class="max-w-4xl mx-auto p-4 sm:p-6 lg:p-8">
            <header class="mb-6">
                <h2 class="text-3xl font-bold text-gray-900 font-montserrat">Post a Job</h2>
                <p class="mt-2 text-gray-600">Complete the form to submit a job listing. We will review your submission and contact you for KYB (Know Your Business) verification.</p>
            </header>

            <main>
                <section class="bg-white rounded-2xl shadow-md p-6">
                    <div id="form-container">
                        <!-- This form submits to a hidden iframe to prevent the user from being redirected away from the site. -->
                        <form id="job-posting-form" action="https://docs.google.com/forms/u/0/d/e/1FAIpQLSe9B3WgKbcs1Yr5YDtRCU-xciybypyUEqhS4JIS_sNWuY_t1Q/formResponse" method="POST" target="hidden_iframe" onsubmit="formSubmitted()">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <!-- Personal Information -->
                                <div class="md:col-span-2"><h3 class="text-lg font-semibold text-gray-800 border-b pb-2 mb-4">Your Information</h3></div>
                                <div>
                                    <label for="fullName" class="block text-sm font-bold text-gray-700 mb-1">Full Name</label>
                                    <input type="text" name="entry.252811031" id="fullName" required class="block w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500">
                                </div>
                                <div>
                                    <label for="role" class="block text-sm font-bold text-gray-700 mb-1">Your Role</label>
                                    <input type="text" name="entry.1748609075" id="role" placeholder="e.g., Marketing Manager, Founder" required class="block w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500">
                                </div>

                                <!-- Brand Information -->
                                <div class="md:col-span-2 mt-4"><h3 class="text-lg font-semibold text-gray-800 border-b pb-2 mb-4">Brand Information</h3></div>
                                <div>
                                    <label for="brandName" class="block text-sm font-bold text-gray-700 mb-1">Brand Name</label>
                                    <input type="text" name="entry.825270587" id="brandName" required class="block w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500">
                                </div>
                                <div>
                                    <label for="website" class="block text-sm font-bold text-gray-700 mb-1">Website</label>
                                    <input type="url" name="entry.660852588" id="website" placeholder="https://example.com" required class="block w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500">
                                </div>
                                <div class="md:col-span-2">
                                    <label for="socials" class="block text-sm font-bold text-gray-700 mb-1">Socials of Your Brand</label>
                                    <textarea id="socials" name="entry.1737156504" rows="3" placeholder="Enter one social media link per line (e.g., Twitter, LinkedIn, etc.)" class="block w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500"></textarea>
                                </div>

                                <!-- Contact Information -->
                                <div class="md:col-span-2 mt-4"><h3 class="text-lg font-semibold text-gray-800 border-b pb-2 mb-4">Contact & Job Details</h3></div>
                                <div>
                                    <label for="email" class="block text-sm font-bold text-gray-700 mb-1">Official Email Address</label>
                                    <input type="email" name="entry.1588080318" id="email" required class="block w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500">
                                </div>
                                <div>
                                    <label for="contactMedium" class="block text-sm font-bold text-gray-700 mb-1">Best Contact Medium</label>
                                    <select id="contactMedium" name="entry.1771942278" required class="block w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500">
                                        <option value="">Select a medium</option>
                                        <option value="Email">Email</option>
                                        <option value="Telegram">Telegram</option>
                                        <option value="WhatsApp">WhatsApp</option>
                                        <option value="Phone Call">Phone Call</option>
                                    </select>
                                </div>
                                
                                <!-- === DYNAMIC FIELD WRAPPER === -->
                                <div id="contact-detail-wrapper" class="hidden md:col-span-2">
                                    <label for="contactDetail" id="contact-detail-label" class="block text-sm font-bold text-gray-700 mb-1">Contact Detail</label>
                                    <input type="text" name="entry.1400525671" id="contactDetail" class="block w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500">
                                </div>
                                
                                <!-- Job Details -->
                                <div class="md:col-span-2">
                                    <label for="jobType" class="block text-sm font-bold text-gray-700 mb-1">Type of Job</label>
                                    <input type="text" name="entry.1561423154" id="jobType" placeholder="e.g., Sign Up, Video Creation, Social Media Post" required class="block w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500">
                                </div>
                                <div class="md:col-span-2">
                                    <label for="description" class="block text-sm font-bold text-gray-700 mb-1">Brief Description</label>
                                    <textarea id="description" name="entry.256063339" rows="4" required placeholder="Describe the job requirements and what the user needs to do." class="block w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500"></textarea>
                                </div>
                            </div>

                            <div class="mt-8 border-t pt-6">
                                <button type="submit" class="w-full bg-purple-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-purple-700 transition-colors">Submit Job for Review</button>
                            </div>
                        </form>
                    </div>

                    <!-- Success Message -->
                    <div id="form-success-message" class="hidden text-center p-6">
                         <div class="inline-block bg-green-100 rounded-full p-5">
                            <i class="fas fa-check-circle text-5xl text-green-500"></i>
                        </div>
                        <h3 class="text-2xl font-bold mt-4 text-gray-800">Your submission has been approved.</h3>
                        <p class="text-gray-600 mt-2">Thank you! We will be in touch shortly. Redirecting you back to the jobs page...</p>
                    </div>
                </section>
            </main>
        </div>
    </div>
    
    <!-- This iframe is used to submit the form in the background without navigating the user away. -->
    <iframe name="hidden_iframe" id="hidden_iframe" style="display:none;"></iframe>

    <script>
        // This script handles dark mode, form submission success message,
        // and the dynamic contact detail field.
        function formSubmitted() {
            document.getElementById('form-container').classList.add('hidden');
            document.getElementById('form-success-message').classList.remove('hidden');
            
            // Redirect after a few seconds
            setTimeout(() => {
                window.location.href = 'affiliate.html';
            }, 4000); // 4-second delay
        }

        document.addEventListener('DOMContentLoaded', () => {
            // Dark mode check
            if (localStorage.getItem('theme') === 'dark') {
                document.documentElement.classList.add('dark');
            }

            // Dynamic contact field logic
            const contactMediumSelect = document.getElementById('contactMedium');
            const contactDetailWrapper = document.getElementById('contact-detail-wrapper');
            const contactDetailLabel = document.getElementById('contact-detail-label');
            const contactDetailInput = document.getElementById('contactDetail');

            contactMediumSelect.addEventListener('change', (event) => {
                const selectedValue = event.target.value;
                const needsDetail = ['Telegram', 'WhatsApp', 'Phone Call'];

                if (needsDetail.includes(selectedValue)) {
                    contactDetailLabel.textContent = `Your ${selectedValue} Handle / Number`;
                    contactDetailInput.placeholder = `Enter your ${selectedValue} contact info`;
                    contactDetailWrapper.classList.remove('hidden');
                    contactDetailInput.required = true;
                } else {
                    contactDetailWrapper.classList.add('hidden');
                    contactDetailInput.required = false;
                    contactDetailInput.value = '';
                }
            });
        });
    </script>
</body>
</html>
